<main class="register-container">
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="register-form">
    <h2>Registrarse</h2>

    <label for="username">Usuario</label>
    <input id="username" formControlName="username" required />

    <label for="password">Contraseña</label>
    <input id="password" type="password" formControlName="password" required />

    @let password = registerForm.get('password');
    @if (password?.hasError('weakPassword') && (password?.touched || password?.dirty)) {
        <div class="error-message">
          Weak password
        </div>
    }

    <label for="confirmPassword">Confirmar Contraseña</label>
    <input id="confirmPassword" type="password" formControlName="confirmPassword" required />

    @if (registerForm.hasError('passwordsDoNotMatch') && (registerForm.touched || registerForm.dirty)) {
        <div class="error-message">
          Las contraseñas no coinciden.
        </div>
    }

    <button type="submit" [disabled]="registerForm.invalid">Registrarse</button>

    <p class="login-link">
      ¿Ya tienes cuenta? <a routerLink="/login">Inicia sesión aquí</a>
    </p>
  </form>
</main>
